{"remainingRequest":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\src\\components\\WebMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\src\\components\\WebMap.vue","mtime":1588135199072},{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sudha.Panchaparula\\Desktop\\Sudha-docs\\Vue-Projects\\Vue-arcgis-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgeyBsb2FkTW9kdWxlcyB9IGZyb20gJ2VzcmktbG9hZGVyJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnd2ViLW1hcCcsDQogIGRhdGE6ICgpID0+ICh7DQogICAgICB0YWdGcm9tV2ViTWFwOiBmYWxzZSwgIC8vbmVlZCB0byBhZGp1c3QgY29kZSBmb3IgQWRkTGF5ZXIgYnV0dG9uIGluIHRoZSBJbnB1dHMudnVlDQoNCiAgfSksDQovKg0KICAvL2lmIEkgdXNlICRlbWl0LCBuZWVkIHRvIGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC0gQXBwLnZ1ZSAgIA0KICBwcm9wczogeyAgIA0KICAgICAgYWRkTGF5ZXI6IHsNCiAgICAgICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICB9DQoNCiAgfSwgDQogICAgY29tcHV0ZWQ6IHsNCiAgICBjb3VudHJ5bmFtZSgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmFtZTsNCiAgICB9DQoNCiAgICB9LCANCiAgICB3YXRjaDp7DQogICAgICAgDQogICAgY291bnRyeW5hbWUodmFsKQ0KICAgIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldE5hbWUnLCB2YWwpOw0KICAgIH0NCg0KICAgIH0sKi8NCg0KICBtb3VudGVkKCkgew0KDQogICAgICB0aGlzLmxvYWRNYXAoKTsNCg0KICB9LCANCg0KICBtZXRob2RzOnsNCiAgICAgIGxvYWRNYXAoKXsNCiAgICAgICAgICAvL3RoaXMgLT4gcmVmZXJzIHRvIHRoZSB2dWUgaW5zdGFuY2UNCiAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgLy8gbGF6eSBsb2FkIHRoZSByZXF1aXJlZCBBcmNHSVMgQVBJIGZvciBKYXZhU2NyaXB0IG1vZHVsZXMgYW5kIENTUw0KICAgICAgICBsb2FkTW9kdWxlcyhbJ2VzcmkvTWFwJywgJ2Vzcmkvdmlld3MvTWFwVmlldycsICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXSwgeyBjc3M6IHRydWUgfSkNCiAgICAgICAgLnRoZW4oKFtBcmNHSVNNYXAsIE1hcFZpZXcsIEZlYXR1cmVMYXllcl0pID0+IHsNCiAgICAgICAgICAgIC8vdGhpcyAtLSA+cmVmZXJzIHRvIGxvYWRtb2R1bGVzDQogICAgICAgICAgICANCiAgICAgICAgICAgIGNvbnN0IG1hcCA9IG5ldyBBcmNHSVNNYXAoew0KICAgICAgICAgICAgICAgIGJhc2VtYXA6ICd0b3BvLXZlY3RvcicNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgIA0KDQogICAgICAgICAgICB2YXIgd29ybGRDb3VudHJpZXMgPSBuZXcgRmVhdHVyZUxheWVyKHsNCiAgICAgICAgICAgICAgICB1cmw6ICJodHRwczovL3NlcnZpY2VzLmFyY2dpcy5jb20vUDNlUExNWXMyUlZDaGtKeC9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9Db3VudHJpZXNfKEdlbmVyYWxpemVkKS9GZWF0dXJlU2VydmVyLzAiLA0KICAgICAgICAgICAgICAgIG91dEZpZWxkczogJyonLA0KICAgICAgICAgICAgfSk7IA0KDQogICAgICAgICAgICBtYXAuYWRkKHdvcmxkQ291bnRyaWVzKTsNCg0KDQoNCiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IE1hcFZpZXcoew0KICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy4kZWwsDQogICAgICAgICAgICAgICAgbWFwOiBtYXAsDQogICAgICAgICAgICAgICAgY2VudGVyOiBbMTQ0LCAtMjRdLA0KICAgICAgICAgICAgICAgIHpvb206IDIsDQogICAgICAgICAgICAgICAgaGlnaGxpZ2h0T3B0aW9uczogew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ29yYW5nZScsDQogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjUsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCg0KICAgICAgICAgICAgdmFyIGhpZ2hsaWdodCwgY3Vyck5hbWU7DQogICAgICAgICAgICB2aWV3LndoZW5MYXllclZpZXcod29ybGRDb3VudHJpZXMpLnRoZW4oZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZpZXcub24oInBvaW50ZXItbW92ZSIsIGV2ZW50SGFuZGxlcik7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGV2ZW50KSB7DQogICAgICAgICAgICAgICAgdmlldy5oaXRUZXN0KGV2ZW50KS50aGVuKGdldEdyYXBoaWNzKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0R3JhcGhpY3MocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIHZhciBncmFwaGljID0gcmVzcG9uc2UucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5ncmFwaGljLmxheWVyID09PSB3b3JsZENvdW50cmllczsNCiAgICAgICAgICAgICAgICAgICAgfSlbMF0uZ3JhcGhpYzsNCg0KDQogICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBncmFwaGljLmF0dHJpYnV0ZXM7DQogICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlcy5DT1VOVFJZOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChoaWdobGlnaHQgJiYgKGN1cnJOYW1lICE9PSBuYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0LnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2aWV3LndoZW5MYXllclZpZXcod29ybGRDb3VudHJpZXMpLnRoZW4oZnVuY3Rpb24gKGxheWVyVmlldykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gbGF5ZXJWaWV3LmhpZ2hsaWdodChncmFwaGljKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgY3Vyck5hbWUgPSBuYW1lOw0KICAgICAgICAgICAgICAgICAgIHRoYXQuJHN0b3JlLmRpc3BhdGNoKCdzZXROYW1lJywgbmFtZSk7ICAvL3VwZGF0ZSB0aGUgdmFsdWUgdG8gJHN0b3JlDQoNCg0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5yZW1vdmUoKTsgLy9yZW1vdmUgdGhlIGhpZ2hsaWdodCBpZiBubyBmZWF0dXJlcyBhcmUgcmV0dXJuZWQgZnJvbSB0aGUgaGl0VGVzdA0KICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICANCiAgICAgICAgfSk7DQoNCiAgIH0sDQoNCiAgfSwNCiAgYmVmb3JlRGVzdHJveSgpIHsNCiAgICBpZiAodGhpcy52aWV3KSB7DQogICAgICAvLyBkZXN0cm95IHRoZSBtYXAgdmlldw0KICAgICAgdGhpcy52aWV3LmNvbnRhaW5lciA9IG51bGw7DQogICAgfQ0KICB9DQoNCg0KfTsNCg0K"},{"version":3,"sources":["WebMap.vue"],"names":[],"mappings":";;;;;AAKA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"WebMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script>\r\nimport { loadModules } from 'esri-loader';\r\n\r\nexport default {\r\n  name: 'web-map',\r\n  data: () => ({\r\n      tagFromWebMap: false,  //need to adjust code for AddLayer button in the Inputs.vue\r\n\r\n  }),\r\n/*\r\n  //if I use $emit, need to get the value from the parent component- App.vue   \r\n  props: {   \r\n      addLayer: {\r\n          type: Boolean,\r\n          required: true\r\n      }\r\n\r\n  }, \r\n    computed: {\r\n    countryname() {\r\n        return this.$store.getters.getName;\r\n    }\r\n\r\n    }, \r\n    watch:{\r\n       \r\n    countryname(val)\r\n    {\r\n        this.$store.dispatch('setName', val);\r\n    }\r\n\r\n    },*/\r\n\r\n  mounted() {\r\n\r\n      this.loadMap();\r\n\r\n  }, \r\n\r\n  methods:{\r\n      loadMap(){\r\n          //this -> refers to the vue instance\r\n          let that = this;\r\n    // lazy load the required ArcGIS API for JavaScript modules and CSS\r\n        loadModules(['esri/Map', 'esri/views/MapView', 'esri/layers/FeatureLayer'], { css: true })\r\n        .then(([ArcGISMap, MapView, FeatureLayer]) => {\r\n            //this -- >refers to loadmodules\r\n            \r\n            const map = new ArcGISMap({\r\n                basemap: 'topo-vector'\r\n            });\r\n            \r\n        \r\n\r\n            var worldCountries = new FeatureLayer({\r\n                url: \"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/World_Countries_(Generalized)/FeatureServer/0\",\r\n                outFields: '*',\r\n            }); \r\n\r\n            map.add(worldCountries);\r\n\r\n\r\n\r\n            var view = new MapView({\r\n                container: this.$el,\r\n                map: map,\r\n                center: [144, -24],\r\n                zoom: 2,\r\n                highlightOptions: {\r\n                    color: 'orange',\r\n                    fillOpacity: 0.5,\r\n                }\r\n            });\r\n\r\n\r\n            var highlight, currName;\r\n            view.whenLayerView(worldCountries).then(function () {\r\n                view.on(\"pointer-move\", eventHandler);\r\n            });\r\n\r\n            function eventHandler(event) {\r\n                view.hitTest(event).then(getGraphics);\r\n            }\r\n\r\n            function getGraphics(response) {\r\n                if (response.results.length) {\r\n                    \r\n                    var graphic = response.results.filter(function (result) {\r\n                        return result.graphic.layer === worldCountries;\r\n                    })[0].graphic;\r\n\r\n\r\n                   var attributes = graphic.attributes;\r\n                    var name = attributes.COUNTRY;\r\n\r\n                    if (highlight && (currName !== name)) {\r\n                        highlight.remove();\r\n                        highlight = null;\r\n                        return;\r\n                    }\r\n                    if (highlight) {\r\n                        return;\r\n                    }\r\n\r\n                    view.whenLayerView(worldCountries).then(function (layerView) {\r\n                        highlight = layerView.highlight(graphic);\r\n                    });\r\n\r\n                    currName = name;\r\n                   that.$store.dispatch('setName', name);  //update the value to $store\r\n\r\n\r\n                } else {\r\n                    highlight.remove(); //remove the highlight if no features are returned from the hitTest\r\n                    highlight = null;\r\n                }\r\n\r\n            }\r\n\r\n            \r\n        });\r\n\r\n   },\r\n\r\n  },\r\n  beforeDestroy() {\r\n    if (this.view) {\r\n      // destroy the map view\r\n      this.view.container = null;\r\n    }\r\n  }\r\n\r\n\r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\ndiv {\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>"]}]}